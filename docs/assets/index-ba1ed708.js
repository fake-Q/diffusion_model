(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function L(){}function I(t,e){for(const n in e)t[n]=e[n];return t}function pe(t){return t()}function ce(){return Object.create(null)}function B(t){t.forEach(pe)}function he(t){return typeof t=="function"}function ge(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let U;function fe(t,e){return U||(U=document.createElement("a")),U.href=e,t===U.href}function Ae(t){return Object.keys(t).length===0}function x(t,e,n,r){if(t){const l=be(t,e,n,r);return t[0](l)}}function be(t,e,n,r){return t[1]&&r?I(n.ctx.slice(),t[1](r(e))):n.ctx}function z(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],i=Math.max(e.dirty.length,l.length);for(let a=0;a<i;a+=1)s[a]=e.dirty[a]|l[a];return s}return e.dirty|l}return e.dirty}function H(t,e,n,r,l,s){if(l){const i=be(e,n,r,s);t.p(i,l)}}function J(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Ee(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ae(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function C(t,e){t.appendChild(e)}function M(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function Se(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function K(t){return document.createTextNode(t)}function W(){return K(" ")}function se(){return K("")}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function X(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:g(t,r,e[r])}function Le(t){return Array.from(t.childNodes)}function Ie(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Y(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let oe;function S(t){oe=t}const E=[],ne=[],F=[],ue=[],Be=Promise.resolve();let re=!1;function De(){re||(re=!0,Be.then(ye))}function le(t){F.push(t)}const te=new Set;let A=0;function ye(){if(A!==0)return;const t=oe;do{try{for(;A<E.length;){const e=E[A];A++,S(e),qe(e.$$)}}catch(e){throw E.length=0,A=0,e}for(S(null),E.length=0,A=0;ne.length;)ne.pop()();for(let e=0;e<F.length;e+=1){const n=F[e];te.has(n)||(te.add(n),n())}F.length=0}while(E.length);for(;ue.length;)ue.pop()();re=!1,te.clear(),S(t)}function qe(t){if(t.fragment!==null){t.update(),B(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(le)}}const G=new Set;let O;function Q(){O={r:0,c:[],p:O}}function V(){O.r||B(O.c),O=O.p}function w(t,e){t&&t.i&&(G.delete(t),t.i(e))}function N(t,e,n,r){if(t&&t.o){if(G.has(t))return;G.add(t),O.c.push(()=>{G.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function ke(t,e){const n={},r={},l={$$scope:1};let s=t.length;for(;s--;){const i=t[s],a=e[s];if(a){for(const o in i)o in a||(r[o]=1);for(const o in a)l[o]||(n[o]=a[o],l[o]=1);t[s]=a}else for(const o in i)l[o]=1}for(const i in r)i in n||(n[i]=void 0);return n}function Te(t){t&&t.c()}function ve(t,e,n,r){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),r||le(()=>{const i=t.$$.on_mount.map(pe).filter(he);t.$$.on_destroy?t.$$.on_destroy.push(...i):B(i),t.$$.on_mount=[]}),s.forEach(le)}function we(t,e){const n=t.$$;n.fragment!==null&&(B(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Re(t,e){t.$$.dirty[0]===-1&&(E.push(t),De(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ne(t,e,n,r,l,s,i,a=[-1]){const o=oe;S(t);const c=t.$$={fragment:null,ctx:[],props:s,update:L,not_equal:l,bound:ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:ce(),dirty:a,skip_bound:!1,root:e.target||o.$$.root};i&&i(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(u,d,...y)=>{const p=y.length?y[0]:d;return c.ctx&&l(c.ctx[u],c.ctx[u]=p)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](p),f&&Re(t,u)),d}):[],c.update(),f=!0,B(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const u=Le(e.target);c.fragment&&c.fragment.l(u),u.forEach(v)}else c.fragment&&c.fragment.c();e.intro&&w(t.$$.fragment),ve(t,e.target,e.anchor,e.customElement),ye()}S(o)}class Ce{$destroy(){we(this,1),this.$destroy=L}$on(e,n){if(!he(n))return L;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Ae(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Me(t){let e="";if(typeof t=="string"||typeof t=="number")e+=t;else if(typeof t=="object")if(Array.isArray(t))e=t.map(Me).filter(Boolean).join(" ");else for(let n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function de(...t){return t.map(Me).filter(Boolean).join(" ")}function Ue(t){let e,n,r,l;const s=[Ke,Ge],i=[];function a(f,u){return f[1]?0:1}n=a(t),r=i[n]=s[n](t);let o=[t[7],{class:t[6]}],c={};for(let f=0;f<o.length;f+=1)c=I(c,o[f]);return{c(){e=k("div"),r.c(),X(e,c)},m(f,u){M(f,e,u),i[n].m(e,null),l=!0},p(f,u){let d=n;n=a(f),n===d?i[n].p(f,u):(Q(),N(i[d],1,1,()=>{i[d]=null}),V(),r=i[n],r?r.p(f,u):(r=i[n]=s[n](f),r.c()),w(r,1),r.m(e,null)),X(e,c=ke(o,[u&128&&f[7],(!l||u&64)&&{class:f[6]}]))},i(f){l||(w(r),l=!0)},o(f){N(r),l=!1},d(f){f&&v(e),i[n].d()}}}function Fe(t){let e,n,r,l;const s=[Xe,We],i=[];function a(o,c){return o[1]?0:1}return e=a(t),n=i[e]=s[e](t),{c(){n.c(),r=se()},m(o,c){i[e].m(o,c),M(o,r,c),l=!0},p(o,c){let f=e;e=a(o),e===f?i[e].p(o,c):(Q(),N(i[f],1,1,()=>{i[f]=null}),V(),n=i[e],n?n.p(o,c):(n=i[e]=s[e](o),n.c()),w(n,1),n.m(r.parentNode,r))},i(o){l||(w(n),l=!0)},o(o){N(n),l=!1},d(o){i[e].d(o),o&&v(r)}}}function Ge(t){let e,n;const r=t[14].default,l=x(r,t,t[13],null);return{c(){e=k("div"),l&&l.c(),g(e,"class",t[5]),Y(e,"width",t[4]+"%"),g(e,"role","progressbar"),g(e,"aria-valuenow",t[2]),g(e,"aria-valuemin","0"),g(e,"aria-valuemax",t[3])},m(s,i){M(s,e,i),l&&l.m(e,null),n=!0},p(s,i){l&&l.p&&(!n||i&8192)&&H(l,r,s,s[13],n?z(r,s[13],i,null):J(s[13]),null),(!n||i&32)&&g(e,"class",s[5]),(!n||i&16)&&Y(e,"width",s[4]+"%"),(!n||i&4)&&g(e,"aria-valuenow",s[2]),(!n||i&8)&&g(e,"aria-valuemax",s[3])},i(s){n||(w(l,s),n=!0)},o(s){N(l,s),n=!1},d(s){s&&v(e),l&&l.d(s)}}}function Ke(t){let e;const n=t[14].default,r=x(n,t,t[13],null);return{c(){r&&r.c()},m(l,s){r&&r.m(l,s),e=!0},p(l,s){r&&r.p&&(!e||s&8192)&&H(r,n,l,l[13],e?z(n,l[13],s,null):J(l[13]),null)},i(l){e||(w(r,l),e=!0)},o(l){N(r,l),e=!1},d(l){r&&r.d(l)}}}function We(t){let e,n,r;const l=t[14].default,s=x(l,t,t[13],null);let i=[t[7],{class:t[5]},{style:n="width: "+t[4]+"%"},{role:"progressbar"},{"aria-valuenow":t[2]},{"aria-valuemin":"0"},{"aria-valuemax":t[3]}],a={};for(let o=0;o<i.length;o+=1)a=I(a,i[o]);return{c(){e=k("div"),s&&s.c(),X(e,a)},m(o,c){M(o,e,c),s&&s.m(e,null),r=!0},p(o,c){s&&s.p&&(!r||c&8192)&&H(s,l,o,o[13],r?z(l,o[13],c,null):J(o[13]),null),X(e,a=ke(i,[c&128&&o[7],(!r||c&32)&&{class:o[5]},(!r||c&16&&n!==(n="width: "+o[4]+"%"))&&{style:n},{role:"progressbar"},(!r||c&4)&&{"aria-valuenow":o[2]},{"aria-valuemin":"0"},(!r||c&8)&&{"aria-valuemax":o[3]}]))},i(o){r||(w(s,o),r=!0)},o(o){N(s,o),r=!1},d(o){o&&v(e),s&&s.d(o)}}}function Xe(t){let e;const n=t[14].default,r=x(n,t,t[13],null);return{c(){r&&r.c()},m(l,s){r&&r.m(l,s),e=!0},p(l,s){r&&r.p&&(!e||s&8192)&&H(r,n,l,l[13],e?z(n,l[13],s,null):J(l[13]),null)},i(l){e||(w(r,l),e=!0)},o(l){N(r,l),e=!1},d(l){r&&r.d(l)}}}function Ye(t){let e,n,r,l;const s=[Fe,Ue],i=[];function a(o,c){return o[0]?0:1}return e=a(t),n=i[e]=s[e](t),{c(){n.c(),r=se()},m(o,c){i[e].m(o,c),M(o,r,c),l=!0},p(o,[c]){let f=e;e=a(o),e===f?i[e].p(o,c):(Q(),N(i[f],1,1,()=>{i[f]=null}),V(),n=i[e],n?n.p(o,c):(n=i[e]=s[e](o),n.c()),w(n,1),n.m(r.parentNode,r))},i(o){l||(w(n),l=!0)},o(o){N(n),l=!1},d(o){i[e].d(o),o&&v(r)}}}function xe(t,e,n){let r,l,s;const i=["class","bar","multi","value","max","animated","striped","color","barClassName"];let a=ae(e,i),{$$slots:o={},$$scope:c}=e,{class:f=""}=e,{bar:u=!1}=e,{multi:d=!1}=e,{value:y=0}=e,{max:p=100}=e,{animated:P=!1}=e,{striped:m=!1}=e,{color:h=""}=e,{barClassName:b=""}=e;return t.$$set=_=>{e=I(I({},e),Ee(_)),n(7,a=ae(e,i)),"class"in _&&n(8,f=_.class),"bar"in _&&n(0,u=_.bar),"multi"in _&&n(1,d=_.multi),"value"in _&&n(2,y=_.value),"max"in _&&n(3,p=_.max),"animated"in _&&n(9,P=_.animated),"striped"in _&&n(10,m=_.striped),"color"in _&&n(11,h=_.color),"barClassName"in _&&n(12,b=_.barClassName),"$$scope"in _&&n(13,c=_.$$scope)},t.$$.update=()=>{t.$$.dirty&256&&n(6,r=de(f,"progress")),t.$$.dirty&7937&&n(5,l=de("progress-bar",u&&f||b,P?"progress-bar-animated":null,h?`bg-${h}`:null,m||P?"progress-bar-striped":null)),t.$$.dirty&12&&n(4,s=parseInt(y,10)/parseInt(p,10)*100)},[u,d,y,p,s,l,r,a,f,P,m,h,b,c,o]}class ze extends Ce{constructor(e){super(),Ne(this,e,xe,Ye,ge,{class:8,bar:0,multi:1,value:2,max:3,animated:9,striped:10,color:11,barClassName:12})}}function _e(t,e,n){const r=t.slice();return r[13]=e[n],r}function He(t){let e,n,r,l,s,i,a,o,c,f=t[3],u=[];for(let d=0;d<f.length;d+=1)u[d]=me(_e(t,f,d));return{c(){e=k("div"),n=k("div");for(let d=0;d<u.length;d+=1)u[d].c();r=W(),l=k("div"),s=k("div"),i=k("div"),a=k("canvas"),o=W(),c=k("div"),g(a,"class","d-flex"),g(c,"class","d-flex progress_bar svelte-ecrra9"),Y(c,"width",t[2]*100+"%"),g(s,"class","d-flex justify-content-center"),g(l,"class","col"),g(n,"class","row"),g(e,"class","container")},m(d,y){M(d,e,y),C(e,n);for(let p=0;p<u.length;p+=1)u[p].m(n,null);C(n,r),C(n,l),C(l,s),C(s,i),C(i,a),t[4](a),C(i,o),C(i,c)},p(d,y){if(y&8){f=d[3];let p;for(p=0;p<f.length;p+=1){const P=_e(d,f,p);u[p]?u[p].p(P,y):(u[p]=me(P),u[p].c(),u[p].m(n,r))}for(;p<u.length;p+=1)u[p].d(1);u.length=f.length}y&4&&Y(c,"width",d[2]*100+"%")},i:L,o:L,d(d){d&&v(e),Se(u,d),t[4](null)}}}function Je(t){let e,n,r,l,s;return l=new ze({props:{animated:!0,color:"success",value:t[0],$$slots:{default:[Qe]},$$scope:{ctx:t}}}),{c(){e=k("div"),n=k("div"),n.textContent="Loading ...",r=W(),Te(l.$$.fragment),g(n,"class","text-center")},m(i,a){M(i,e,a),C(e,n),C(e,r),ve(l,e,null),s=!0},p(i,a){const o={};a&1&&(o.value=i[0]),a&65537&&(o.$$scope={dirty:a,ctx:i}),l.$set(o)},i(i){s||(w(l.$$.fragment,i),s=!0)},o(i){N(l.$$.fragment,i),s=!1},d(i){i&&v(e),we(l)}}}function me(t){let e,n,r;return{c(){e=k("div"),n=k("img"),fe(n.src,r=t[13])||g(n,"src",r),g(n,"class","generated mb-2 svelte-ecrra9"),g(n,"alt",""),g(e,"class","col")},m(l,s){M(l,e,s),C(e,n)},p(l,s){s&8&&!fe(n.src,r=l[13])&&g(n,"src",r)},d(l){l&&v(e)}}}function Qe(t){let e,n;return{c(){e=K(t[0]),n=K("%")},m(r,l){M(r,e,l),M(r,n,l)},p(r,l){l&1&&Ie(e,r[0])},d(r){r&&v(e),r&&v(n)}}}function Ve(t){let e,n,r,l,s,i;const a=[Je,He],o=[];function c(f,u){return f[0]<100?0:1}return r=c(t),l=o[r]=a[r](t),{c(){e=k("link"),n=W(),l.c(),s=se(),g(e,"rel","stylesheet"),g(e,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css")},m(f,u){C(document.head,e),M(f,n,u),o[r].m(f,u),M(f,s,u),i=!0},p(f,[u]){let d=r;r=c(f),r===d?o[r].p(f,u):(Q(),N(o[d],1,1,()=>{o[d]=null}),V(),l=o[r],l?l.p(f,u):(l=o[r]=a[r](f),l.c()),w(l,1),l.m(s.parentNode,s))},i(f){i||(w(l),i=!0)},o(f){N(l),i=!1},d(f){v(e),f&&v(n),o[r].d(f),f&&v(s)}}}const j=2;function Ze(t,e,n){let r=0,l,s=0,i=0,a=[];const o={},c=new Worker("./64x64_cosin_300/worker.js");c.onmessage=async m=>{const h=m.data;switch(h.type){case"reply":{const b=o[h.id];b?b.resolve(h.data):console.log("Unable to find the promise.",h);break}case"ready":{n(0,r=100),y();break}case"progress":{n(0,r=Math.floor(h.progress*100));break}case"error":{alert(h.message);break}default:{console.log(h);break}}};const f=()=>{const m=s++,h=new Promise((b,_)=>{o[m]={resolve:b,reject:_}});return{id:m,promise:h}},u=async()=>{const{id:m,promise:h}=f(),b={type:"ddpmStart",id:m,kwargs:{}};return c.postMessage(b),await h},d=async m=>{const{id:h,promise:b}=f(),_={type:"ddpmNext",id:h,kwargs:{key:m}};return c.postMessage(_),await b},y=async()=>{n(2,i=0),l&&l.width&&l.height&&l.getContext("2d").clearRect(0,0,l.width,l.height);let m=await u();for(p(m.image),n(2,i=m.percent);m.step>0;)m=await d(m.key),p(m.image),n(2,i=m.percent);a.push(l.toDataURL()),n(3,a),await y()},p=m=>{const h=m[0].length,b=m[0][0].length;n(1,l.width=b*j,l),n(1,l.height=h*j,l);const _=l.getContext("2d"),ie=_.createImageData(b*j,h*j,{colorSpace:"srgb"}),D=ie.data;for(let q=0;q<h;q++)for(let T=0;T<b;T++){const Z=m[0][q][T],Pe=Math.max(0,Math.min(255,Z[0]*127.5+127.5)),je=Math.max(0,Math.min(255,Z[1]*127.5+127.5)),Oe=Math.max(0,Math.min(255,Z[2]*127.5+127.5));for(let $=0;$<j;$++)for(let ee=0;ee<j;ee++){const R=((q*j+ee)*b*j+T*j+$)*4;D[R]=Pe,D[R+1]=je,D[R+2]=Oe,D[R+3]=255}}_.putImageData(ie,0,0)};function P(m){ne[m?"unshift":"push"](()=>{l=m,n(1,l)})}return[r,l,i,a,P]}class $e extends Ce{constructor(e){super(),Ne(this,e,Ze,Ve,ge,{})}}new $e({target:document.getElementById("app")});
